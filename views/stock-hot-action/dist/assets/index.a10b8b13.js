var _=Object.defineProperty;var h=(r,e,a)=>e in r?_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a;var p=(r,e,a)=>(h(r,typeof e!="symbol"?e+"":e,a),a);import{d as y,B as f,r as w,w as k,l as b,bC as C,o as S,c as F,u as x,i as m}from"./index.551d3b04.js";import{L as B,b as D}from"./index.9e301ada.js";class E{constructor(e="yt_"){p(this,"namespace");this.namespace=e}saveStorage(e,a){localStorage.setItem(`${this.namespace}${e}`,a)}getStorage(e){return localStorage.getItem(`${this.namespace}${e}`)||""}}var v=new E;const L=y({__name:"index",props:{name:{type:String,default:null}},setup(r){const e=r,a=f(()=>[{title:"#",key:"index",width:60,render:(n,t)=>`${t+1}`},{title:"\u8BC1\u5238\u540D\u79F0",key:"name",width:100},{title:"\u8BC1\u5238\u4EE3\u7801",key:"code",width:100,render:n=>{const t=n.code;if(!!t)return m("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>{window.open(`http://quote.eastmoney.com/${t}.html`,"_blank")}},t)}},{title:"\u53D1\u751F\u65E5\u671F",key:"day",width:120},{title:"\u4EF7\u683C",key:"price",width:80},{title:"\u767E\u5206\u6BD4",key:"percent",width:80},{title:"\u94FE\u63A5",key:"descLink",width:360,render(n){const t=n.descLink;if(!!t)return m("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>{window.open(t,"_blank")}},t)}},{title:"\u63CF\u8FF0",key:"desc",ellipsis:{tooltip:{width:600}}}]),u=w([]),i=n=>{const s=JSON.parse(v.getStorage(B)).find(o=>o.category===n);if(!s)return;const g=s.stocks||[],c=new Map;g.forEach(o=>{var d;!!c.get(o.code)?(d=c.get(o.code))==null||d.push(o):c.set(o.code,[o])}),u.value=[...c.values()].sort((o,l)=>l.length-o.length).flat()};return k(()=>e.name,n=>{console.log("=======",n),i(n)},{immediate:!0}),b(()=>{const n=C(),{name:t}=n.query;i(t)}),(n,t)=>{const s=D;return S(),F(s,{data:u.value,columns:x(a)},null,8,["data","columns"])}}});var j=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{L as _,j as i,v as s};
