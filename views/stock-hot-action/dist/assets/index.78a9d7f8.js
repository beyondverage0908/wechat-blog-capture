var g=Object.defineProperty;var h=(r,e,n)=>e in r?g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var d=(r,e,n)=>(h(r,typeof e!="symbol"?e+"":e,n),n);import{b as y,L as f}from"./index.35bb94df.js";import{d as w,B as k,r as b,w as S,o as C,c as F,u as v,i as p}from"./index.ad4d93c2.js";class x{constructor(e="yt_"){d(this,"namespace");this.namespace=e}saveStorage(e,n){localStorage.setItem(`${this.namespace}${e}`,n)}getStorage(e){return localStorage.getItem(`${this.namespace}${e}`)||""}}var B=new x;const D=w({__name:"index",props:{name:{type:String,default:null}},setup(r){const e=r,n=k(()=>[{title:"#",key:"index",width:60,render:(o,t)=>`${t+1}`},{title:"\u8BC1\u5238\u540D\u79F0",key:"name",width:100},{title:"\u8BC1\u5238\u4EE3\u7801",key:"code",width:100,render:o=>{const t=o.code;if(!!t)return p("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>{window.open(`http://quote.eastmoney.com/concept/${t}.html`,"_blank")}},t)}},{title:"\u53D1\u751F\u65E5\u671F",key:"day",width:120},{title:"\u4EF7\u683C",key:"price",width:80},{title:"\u767E\u5206\u6BD4",key:"percent",width:80},{title:"\u94FE\u63A5",key:"descLink",width:360,render(o){const t=o.descLink;if(!!t)return p("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>{window.open(t,"_blank")}},t)}},{title:"\u63CF\u8FF0",key:"desc",ellipsis:{tooltip:{width:600}}}]),l=b([]),m=o=>{const s=JSON.parse(B.getStorage(f)).find(a=>a.category===o);if(!s)return;const _=s.stocks||[],c=new Map;_.forEach(a=>{var u;!!c.get(a.code)?(u=c.get(a.code))==null||u.push(a):c.set(a.code,[a])}),l.value=[...c.values()].map(a=>a.sort((i,u)=>u.day>i.day?1:-1)).sort((a,i)=>i.length-a.length).flat()};return S(()=>e.name,o=>{m(o)},{immediate:!0}),(o,t)=>{const s=y;return C(),F(s,{data:l.value,columns:v(n)},null,8,["data","columns"])}}});var O=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{D as _,O as i,B as s};
